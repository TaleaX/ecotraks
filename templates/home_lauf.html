{% extends "layout.html" %}

{% block content %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
  $(function() {
  $("button").on({
    mouseover: function() {
      $(this).css({
        left: (Math.random() * 200) + "px",
        top: (Math.random() * 200) + "px",
      });
    }
  });
});

const btn = document.getElementById('b');

b.addEventListener('mouseover', () => {
	const particles = [];
	const color = randomColor();
	
	const particle = document.createElement('span');
	particle.classList.add('particle', 'move');
	
	const { x, y } = randomLocation();
	particle.style.setProperty('--x', x);
	particle.style.setProperty('--y', y);
	particle.style.background = color;
	btn.style.background = color;
	
	btn.appendChild(particle);
	
	particles.push(particle);
	
	setTimeout(() => {
	
		for(let i=0; i<100; i++) {
			const innerP = document.createElement('span');
			innerP.classList.add('particle', 'move');
			innerP.style.transform = `translate(${x}, ${y})`;

			const xs = Math.random() * 200 - 100 + 'px';
			const ys = Math.random() * 200 - 100 + 'px';
			innerP.style.setProperty('--x', `calc(${x} + ${xs})`);
			innerP.style.setProperty('--y', `calc(${y} + ${ys})`);
			innerP.style.animationDuration = Math.random() * 300 + 200 + 'ms';
			innerP.style.background = color;
			
			btn.appendChild(innerP);
			particles.push(innerP)
		}
		
		setTimeout(() => {
			particles.forEach(particle => {
				particle.remove();
			})
		}, 1000)
	}, 1000);
});

function randomLocation() {
	return {
		x: Math.random() * window.innerWidth - window.innerWidth / 2 + 'px',
		y: Math.random() * window.innerHeight - window.innerHeight / 2 + 'px',
	}
}

function randomColor() {
	return `hsl(${Math.floor(Math.random() * 361)}, 100%, 50%)`;
}
</script>
<style>
.buttonion {
  position: relative;
}

* {
	box-sizing: border-box;
}

body {
	background-color: #1c1c1c;
	display: flex;
	align-items: center;
	justify-content: center;
	margin: 0;
	min-height: 100vh;
	overflow: hidden;
}

#b {
	background-color: rebeccapurple;
	border-radius: 5px;
	box-shadow: 4px 4px 5px rgba(255, 255, 255, 0.15);
	border: none;
	color: white;
	cursor: pointer;
	padding: 1rem 2rem;
	position: relative;
	transition: transform 0.1s linear, box-shadow 0.1s linear;
	z-index: 10;
}

#b:active {
	transform: translate(4px, 4px);
	box-shadow: 0 0 0 rebeccapurple;
}

#b:focus {
	outline: none;
}

.particle {
	--x: 0;
	--y: 0;
	background-color: rebeccapurple;
	border-radius: 50%;
	position: absolute;
	top: 50%;
	left: 50%;
	height: 5px;
	width: 5px;
	z-index: -1;
}

.particle.move {
	animation: move 1000ms linear forwards;
}

@keyframes move {
	to {
		transform: translate(var(--x), var(--y));
	}
	
	95% {
		opacity: 1;
	}
	
	100% {
		opacity: 0;
	}
}

</style>
<div class="flex justify-center items-end text-gray-800">
  <h1 class="text-3xl font-bold mb-10 text-center mr-4">Find Your Eco-Friendly Track</h1>
  <img  style="width: 120px" src="https://images.vexels.com/media/users/3/194324/isolated/preview/46dfd06f9ee4c53a5f3d50c6a39f95f1-eco-friendly-lettering-by-vexels.png">
</div>
<form method="post">
  <div class="grid grid-cols-5 gap-4">
    <input type="text" placeholder="Airline" class="form-input px-4 py-3 rounded-lg border-2 border-blue-400">
    <input type="text" placeholder="From" class="form-input px-4 py-3 rounded-lg border-2 border-blue-400">
    <input type="text" placeholder="To" class="form-input px-4 py-3 rounded-lg border-2 border-blue-400">
    <div class="pt-2 text-lg">
        <input type="checkbox" name="example" class="form-checkbox">
        <label>Toggle Box One</label>
    </div>
    <div class="pt-2 text-lg">
        <input type="checkbox" name="example" class="form-checkbox">
        <label>Toggle Box Two</label>
    </div>
  </div>
  <button type="submit" class="shadow-sm shadow-gray-500 text-lg mt-5 px-4 py-1 rounded-lg bg-blue-400">Filter</button>
</form>


<div class="grid grid-cols-1 text-lg mt-10 gap-4">
  {% for _ in airlines %}
  <div class="grid grid-cols-8 shadow-md shadow-gray-500 bg-gray-100 rounded-3xl">
    <div class="col-span-4 flex content-center p-6">
      <div class="text-lg grow flex justify-between content-center">
        <img style="width:70px" src="https://i.pinimg.com/originals/d2/f7/11/d2f7115b817fda1f9aad7246d86dc030.png">
          <!--{{ airlines[loop.index0] }} -->
        <div class="pt-2">{{ departures[loop.index0] }}</div>
        <div class="pt-2">
          {{ prices[loop.index0] }}â‚¬
        </div>
        <div class="mr-10 pt-2">{{ durations[loop.index0] }} </div>
      </div>
      <button type="submit" class="mt-2 mb-2 shadow-sm shadow-gray-500 text-lg px-4 rounded-lg bg-blue-400 buttonion">Select</button>
    </div>
    <div class="col-span-2 flex justify-center border-l-2 border-gray-400 p-8">
      <h1 class="text-red-500">{{ emissions[loop.index0] }} kg C02 per person</h1>
    </div>
    <div class="col-span-2 flex justify-between border-l-2 border-gray-400 p-6">
      <div class="text-green-600 pt-2">ALTERNATIVE </div>
      <button type="submit" id="b" class="mb-2 mt-2 shadow-sm shadow-gray-500 text-lg ml-6 px-4 rounded-lg bg-blue-400"><a href="https://www.bahn.de/reisen/view/verbindung/berlin/muenchen.shtml">Select</a></button>
    </div>
  </div>
  {% endfor %}
</div>

<!--<table class="table-auto bg-white">
    <thead>
      <tr>
          <th>Airline</th>
    </tr></thead>
    <tbody>
      {% for airline in airlines %}  
      <tr>
        <td>{{ airline }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>-->

{% endblock %}